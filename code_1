from reportlab.lib.pagesizes import letter
from reportlab.pdfgen import canvas
import argparse
import os

def text_to_pdf(input_file, output_file):
    # Create a canvas
    c = canvas.Canvas(output_file, pagesize=letter)

    # Set up font
    c.setFont("Helvetica", 12)

    try:
        # Read text from the input file
        with open(input_file, "r") as f:
            lines = f.readlines()
    except FileNotFoundError:
        print(f"Error: '{input_file}' not found.")
        return

    # Write text to PDF
    y = 750  # Start drawing from the top
    for line in lines:
        c.drawString(50, y, line.strip())
        y -= 15
        if y < 50:
            c.showPage()
            c.setFont("Helvetica", 12)
            y = 750

    # Save PDF
    c.save()
    print(f"PDF created successfully at '{output_file}'")

if __name__ == "__main__":
    parser = argparse.ArgumentParser(description="Convert a TXT file to a PDF.")
    parser.add_argument("input_file", help="Path to the input .txt file")
    parser.add_argument("output_file", help="Path to save the output .pdf file")

    args = parser.parse_args()

    text_to_pdf(args.input_file, args.output_file)
