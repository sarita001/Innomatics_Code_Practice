import argparse
from reportlab.lib.pagesizes import landscape, letter
from reportlab.pdfgen import canvas

def text_to_pdf(input_file, output_file):
    # Use landscape for wider layout
    c = canvas.Canvas(output_file, pagesize=landscape(letter))
    c.setFont("Courier", 8)

    try:
        with open(input_file, "r") as f:
            lines = f.readlines()
    except FileNotFoundError:
        print("Error: Input file not found.")
        return

    width, height = landscape(letter)
    y = height - 40  # Start near top
    x = 40
    line_height = 12

    for line in lines:
        if y < 40:
            c.showPage()
            c.setFont("Courier", 8)
            y = height - 40

        line = line.rstrip("\n")
        max_chars = 160  # More room in landscape
        c.drawString(x, y, line[:max_chars])
        y -= line_height

    c.save()
    print(f"PDF created successfully at: {output_file}")

if __name__ == "__main__":
    parser = argparse.ArgumentParser(description="Convert TXT to PDF (landscape, fixed-width layout)")
    parser.add_argument("input_file", help="Path to input .txt file")
    parser.add_argument("output_file", help="Path to output .pdf file")
    args = parser.parse_args()

    text_to_pdf(args.input_file, args.output_file)
